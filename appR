#
# This is a Shiny web application. You can run the application by clicking
# the 'Run App' button above.
#
# Find out more about building applications with Shiny here:
#
#    http://shiny.rstudio.com/
#

## app.R ##

library(shiny)
library(shinydashboard)
library (DT)


header<- dashboardHeader(
  title="Hypertension Monitoring System",
  titleWidth = "40%"
)

## Sidebar content
Sidebar<-dashboardSidebar(  )


## Body content
body<-dashboardBody(
  
  fluidRow(
    
    box(fileInput("file1", "Choose patient data",
                  accept = c(
                    "text/csv",
                    "text/comma-separated-values,text/plain",
                    ".csv")
    )
    ),
    
    box(DTOutput("dati")
    )
    
  )     
)




ui <- dashboardPage(
  header,
  Sidebar,
  body
)

server <- shinyServer(function(input, output, session) {
  # added "session" because updateSelectInput requires it
  
  
  data <- reactive({
    
    req(input$file1) ## ?req #  require that the input is available
    
    inFile <- input$file1
    
    df <- read.csv(inFile$datapath, header = TRUE, sep = ";"
                   
                   #   return(df)
    )
  })
  
  # output$contents <- renderTable(
  # data()
  #)
  
  output$dati = renderDT(
    data()
  )
})

shinyApp(ui, server)
